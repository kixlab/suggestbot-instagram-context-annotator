{% extends "annotate_base.html" %}
{% load fontawesome %}
{% load staticfiles %}
{% fontawesome_stylesheet %}

{% block scripts %}
<script src="{% static "js/base_annotator.js" %}" type="text/javascript"> </script>
<link href="{% static "css/annotator.css" %}" rel="stylesheet"> 
{% endblock %}

{% block content %}
<div class='row'>
    <div class="col-md-5">
        <div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">Post URL</span>
                </div>
                <input type="text" id='post-url' class="form-control" placeholder="Copy and paste url of post that you want to use.">
                <div class="input-group-append">
                    <span class="btn btn-outline-secondary" onclick='get_post()'>Get</span>
                </div>
                </div>
        </div>
    </div>
    <div class="col-md-7">
        <h4 id='classification-prompt'>Select context label(s) for each hashtag.</h4>
        <h4 id='generation-prompt' style='display:none;'>Generate hashtags related to each context that you would have used in this post.</h4>
    </div>
</div>

<div class='row'>
    <div class="col-md-5" id="post-holder" class="holder">
        <div class='row'>
            <div class='col-md-1'></div>
            <div class='col-md-10' style="padding-top:100%;">
                <iframe id='img-holder' value='' src="https://www.instagram.com/p/B5bCUA-gR6B/embed/" style="width:100%; height:120%; position: absolute; top: 0; left: 0;"></iframe>
            </div>
            <div class='col-md-1'></div>
        </div>
    </div>
    <div class="col-md-7">
        <div id='classification-div'>
            <div id="classification-holder" class="holder">
            </div>
            <div id="classification-review-holder" class="holder">
                <h4>Your data will be saved like this.</h4>
                <div class="card">
                        <div class="card-body" id='classification-preview'>
                        []
                        </div>
                </div>
            </div>
        </div>
        <div id='generation-div' style='display:none;'>
            <div id="generation-holder" class="holder">
                {% for context in contexts %}
                <div class='row context-holder' style='padding-top:5px;padding-bottom: 5px;'>
                    <div class='col-md-2'>
                        <span class='btn btn-success btn-md' style='width:full' >{{context.label}}</span>
                    </div>
                    <div class='col-md-9'>
                        <input id="tags-{{context.label}}" type="text"  class="tagsinput" data-role="tagsinput" style="width:100%;" value="" placeholder="e.g., {{context.exampletags}}">
                    </div>
                    <div class='col-md-1'>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div id="generation-review-holder" class="holder">
                <h4>Your data will be saved like this.</h4>
                <div class="card">
                        <div class="card-body" id='generation-preview'>
                        []
                        </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class='row' id='skeleton-tag-holder'  style='display:none'>
        <div class='col-md-3 tagtext'><span class='hashtag'>#</span><span id='tag-text'>example tag</span><span class='donotuse'>{% fontawesome_icon 'times' 'fas' %}</span></div>
        <div class='col-md-7'>
                <div style="text-align:center">
                        <div class="btn-group btn-group-toggle buttons" data-toggle="buttons">
                            {% for context in contexts %}
                            <label class="btn btn-outline-success btn-sm btn-context">
                                <input type="radio" autocomplete="off" value='{{context.label}}'> {{context.label}} </input>
                            </label>
                            {% endfor %}
                        </div>
                </div>
        </div>
        <div class='col-md-2' style='padding-left:5px;padding-right:25px;'>
                <input type="text" id='other-context' class="form-control" style='height:30px;padding:2px;display:none;' placeholder="" >
        </div>
    </div>



<div class='row'>
    <div class='col-md-5'>
    </div>
    <div class='col-md-7' stype='padding-right:30px;'>
        <div id='classification-save'>     
            <button type='button' class='btn btn-primary btn-md' id='btn_save_classification' style="float:right;margin-top:3px;" onclick='save_classification()'>Next</button>
        </div>            
        <div id='generation-save' style='display:none;'>     
                <button type='button' class='btn btn-primary btn-md' id='btn_save_generation' style="float:right;margin-top:3px;" onclick='save_ganeration()'>Save</button>
            </div>            
        </div>
</div>
{% endblock %}